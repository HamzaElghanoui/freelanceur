
{% extends "AppBundle::base.html.twig" %}

{% block body %}
    <h1>Projects list</h1>
    <div class="count">
        {{ projects.getTotalItemCount }}
    </div>
    <table class="table">
        <thead>
            <tr>
                <th>Thumbnail</th>
                <th>Id</th>
                <th>Name</th>
                <th>Description</th>
                <th>Price</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for project in projects %}
            <tr>
                <th><img class="thumbnail" style="width: 98px;height:auto" src="{{ asset('upload_projects/') ~ project.image.getUrl }}" alt=""></th>
                <td><a href="{{ path('project_show', { 'id': project.id }) }}">{{ project.id }}</a></td>
                <td>{{ project.name }}</td>
                <td>{{ project.description | slice(0, 80) }} ...</td>
                <td>{{ project.price }}</td>
                <td>
                    <a href="{{ path('project_show', { 'id': project.id }) }}" class="btn btn-primary" role="button">Afficher</a> 
                </td>
                <td>
                    <a href="{{ path('project_edit', { 'id': project.id }) }}" class="btn btn-warning" role="button">Editer</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {# display navigation #}
    <div class="navigation">
        {{ knp_pagination_render(projects) }}
    </div>
    <ul>
        <li>
            <a href="{{ path('project_new') }}">Create a new project</a>
        </li>
    </ul>
{% endblock %}
